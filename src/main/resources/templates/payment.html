<!DOCTYPE html>
<<html xmlns:th="http://www.thymeleaf.org">>

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>SoleStore Index</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <!-- Payment method -->
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>Snippet - BBBootstrap</title>
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css' rel='stylesheet'>
    <link href='https://use.fontawesome.com/releases/v5.8.1/css/all.css' rel='stylesheet'>
    <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>

    <!-- CSS -->
    <style>
        .black-text {
          color: black;
        }

        .margin-right {
          margin-right: 20px;
        }
        .login-link {
          color: black;
          font-family: 'Poppins', sans-serif;
          font-weight: 550;
        }
        .cart-icon {
          width: 30px;
          height: 30px;
          border-radius: 0%;
          object-fit: cover; /* Ensure the image fits within the circle */
        }
        .cart-icon:hover {
          transform: scale(1.1); /* Scale the image slightly on hover */
        }
        .bold {
          font-weight: bold;
        }

        .card {
          height: auto;
          display: flex;
          flex-direction: column;
        }

        .card-body {
         flex: 1;
         display: flex;
          flex-direction: column;
         justify-content: flex-end;
        }

        .card .btn {
          align-self: flex-end;
        }

        .card-body h3 {
            font-family: 'Poppins', sans-serif;
           font-weight: 600;
         }

        .card h3 {
          font-family: 'Poppins', sans-serif;
          font-size: 18px;
          font-weight: bold;
          color: grey;
          margin-top: 10px;
        }

        /* Add hover effect for the Buy Now button */
        .buy-now-btn {
          background-color: black;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .buy-now-btn:hover {
          background-color: #0d6efd;
          box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
        }

        /*======= style for payment method ======= -->*/
        ::-webkit-scrollbar {
          width: 8px;
        }
        /* Track */
        ::-webkit-scrollbar-track {
          background: #f1f1f1;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
          background: #888;
        }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
          background: #555;
        } body{background: #f5f5f5}.rounded{border-radius: 1rem}.nav-pills .nav-link{color: #555}.nav-pills .nav-link.active{color: white}input[type="radio"]{margin-right: 5px}.bold{font-weight:bold}

        .custom-list-item {
          border: none;
          background-color: transparent;
          padding: 0;
          margin: 0;
        }

    </style>
</head>

<body>

<!-- ======= Header ======= -->
<header id="header" class="header fixed-top d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

        <a href="index.html" class="logo d-flex align-items-center me-auto me-lg-0">
            <!-- Uncomment the line below if you also wish to use an image logo -->
            <!-- <img src="assets/img/logo.png" alt=""> -->
            <h1>SoleStore<span>.</span></h1>
        </a>

        <nav id="navbar" class="navbar">
            <ul>
                <li><a href="#hero">Checkout</a></li>
            </ul>
        </nav><!-- .navbar -->

        <!-- Cart and Login Section -->
        <div class="d-flex align-items-center">
            <a href="login" class="login-link margin-right">Login</a>
            <a href="#cart"><img src="assets/img/market.png" alt="Cart" class="cart-icon"></a>
        </div>      </div>
    <i class="mobile-nav-toggle mobile-nav-show bi bi-list"></i>
    <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x"></i>

    </div>
</header><!-- End Header -->

<!-- ======= Hero Section ======= -->
<section id="hero" class="hero d-flex align-items-center section-bg">
    <div class="container">
        <div class="row justify-content-between gy-5">
            <div class="col-lg-5 order-2 order-lg-1 d-flex flex-column justify-content-center align-items-center align-items-lg-start text-center text-lg-start">
                <h2 data-aos="fade-up">Elevate Your Game With<br>Air Jordan 1</h2>
                <p data-aos="fade-up" data-aos-delay="100">Walking on air with my Jordan 1s, feeling unstoppable. It's more than just a pair of shoes, it's a symbol. </p>
                <div class="d-flex" data-aos="fade-up" data-aos-delay="200">
                    <a href="#order-now" class="btn-book-a-table">Order Now</a>
                    <a href="https://youtu.be/BQVWa6rUyfY?si=J9DRQvDkrB2oJXVM" class="glightbox btn-watch-video d-flex align-items-center"><i class="bi bi-play-circle"></i><span>Watch Video</span></a>
                </div>
            </div>
            <div class="col-lg-5 order-1 order-lg-2 text-center text-lg-start">
                <img src="assets/img/jordan1.png" class="img-fluid" alt="" data-aos="zoom-out" data-aos-delay="300">
            </div>
        </div>
    </div>
</section><!-- End Hero Section -->

<main id="main">

    <!-- ======= Menu Section ======= -->
    <section id="menu" class="menu">

        <div class="container" data-aos="fade-up">

            <div class="section-header">
                <h2>SoleStore.</h2>
                <p>Order <span class="bold">Details</span></p>
            </div>

            <!-- New container div starts -->
            <!-- START USER DELIVERY ADDRESS -->
            <div class="container m-5">
                <h2 style="font-size: 18px;"><strong>Delivery Address</strong></h2>
                <ul class="list-user-address-details p-0" style="list-style-type: none;">
                    <li class="custom-list-item">Name: <span th:text="${user.user_name}">Name</span></li>
                    <li class="custom-list-item">Phone: <span th:text="${user.user_phone}">Phone</span></li>
                    <li class="custom-list-item">Address: <span th:text="${user.user_address}">Address</span></li>
                    <!-- If you want to display user ID, email, and admin ID, you can add similar lines -->
                </ul>
            </div>
            <!-- END USER DELIVERY ADDRESS -->

            <!-- New container div starts -->
            <!-- ORDER ITEMS TABLE -->
            <div class="container">
            <div class="row">
                <div class="col-md-11 mx-auto">
<!--                    <h3>ORDER SUMMARY</h3>-->
                    <h2 style="font-size: 18px;"><strong>Your Order Summary</strong></h2>
                    <table class="table">
                        <thead>
                        <tr>
                            <th style="width: 60%;">Product Name</th>
                            <th style="width: 20%; text-align: right;">Product Quantity</th>
                            <th style="width: 20%; text-align: right;">Product Price (RM)</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="order : ${orders}">
                            <td colspan="3">
                                <table class="table">
                                    <tbody>
                                    <tr th:each="item : ${order.orderItems}">
                                        <td th:text="${item.product.productNameId.product_name}" style="width: 60%;"></td>
                                        <td th:text="${item.ordersitem_quantity}" style="width: 20%; text-align: right;"></td>
                                        <td th:text="${item.product.product_price}" style="width: 20%; text-align: right;"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                        </tbody>
                        <tfoot>
                        <tr>
                            <td colspan="2" style="text-align: right;">Total:   RM</td>
                            <td id="total" style="text-align: right;"></td> <!-- Add an empty element for displaying the total -->
                        </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            </div>
            <!-- ORDER ITEMS TABLE -->


        </div>

    </section><!-- End Menu Section -->

</main><!-- End #main -->

<!-- Start Display Payment Method -->
<!-- Start Payment Method -->
<section id = "payment method" className='snippet-body'>
    <div class="container py-5">
        <!-- For demo purpose -->
        <div class="row mb-4">
            <div class="col-lg-8 mx-auto text-center">
                <h2>Payment Form</h2>
            </div>
        </div> <!-- End -->
        <div class="row">
            <div class="col-lg-6 mx-auto">
                <div class="card ">
                    <div class="card-header">
                        <div class="bg-white shadow-sm pt-4 pl-2 pr-2 pb-2">
                            <!-- Credit card form tabs -->
                            <ul role="tablist" class="nav bg-light nav-pills rounded nav-fill mb-3">
                                <li class="nav-item"> <a data-toggle="pill" href="#credit-card" class="nav-link active "> <i class="fas fa-credit-card mr-2"></i> Credit Card </a> </li>
                                <li class="nav-item"> <a data-toggle="pill" href="#paypal" class="nav-link "> <i class="fab fa-paypal mr-2"></i> Paypal </a> </li>
                                <li class="nav-item"> <a data-toggle="pill" href="#net-banking" class="nav-link "> <i class="fas fa-mobile-alt mr-2"></i> Net Banking </a> </li>
                            </ul>
                        </div> <!-- End -->
                        <!-- Credit card form content -->
                        <div class="tab-content">
                            <!-- credit card info-->
                            <div id="credit-card" class="tab-pane fade show active pt-3">
                                <form role="form" onsubmit="event.preventDefault()">
                                    <div class="form-group"> <label for="username">
                                        <h6>Card Owner</h6>
                                    </label> <input type="text" name="username" placeholder="Card Owner Name" required class="form-control "> </div>
                                    <div class="form-group"> <label for="cardNumber">
                                        <h6>Card number</h6>
                                    </label>
                                        <div class="input-group"> <input type="text" name="cardNumber" placeholder="Valid card number" class="form-control " required>
                                            <div class="input-group-append"> <span class="input-group-text text-muted"> <i class="fab fa-cc-visa mx-1"></i> <i class="fab fa-cc-mastercard mx-1"></i> <i class="fab fa-cc-amex mx-1"></i> </span> </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-8">
                                            <div class="form-group"> <label><span class="hidden-xs">
                                                    <h6>Expiration Date</h6>
                                                </span></label>
                                                <div class="input-group"> <input type="number" placeholder="MM" name="" class="form-control" required> <input type="number" placeholder="YY" name="" class="form-control" required> </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group mb-4"> <label data-toggle="tooltip" title="Three digit CV code on the back of your card">
                                                <h6>CVV <i class="fa fa-question-circle d-inline"></i></h6>
                                            </label> <input type="text" required class="form-control"> </div>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <button type="button" class="subscribe btn btn-primary btn-block shadow-sm" onclick="redirectToReceipt()"> Confirm Payment </button>
                                </form>
                            </div>
                        </div> <!-- End -->
                        <!-- Paypal info -->
                        <div id="paypal" class="tab-pane fade pt-3">
                            <h6 class="pb-2">Select your paypal account type</h6>
                            <div class="form-group "> <label class="radio-inline"> <input type="radio" name="optradio" checked> Domestic </label> <label class="radio-inline"> <input type="radio" name="optradio" class="ml-5">International </label></div>
                            <p> <button type="button" class="btn btn-primary " onclick="redirectToReceipt()"><i class="fab fa-paypal mr-2"></i> Log into my Paypal</button> </p>
                            <p class="text-muted"> Note: After clicking on the button, you will be directed to a secure gateway for payment. After completing the payment process, you will be redirected back to the website to view details of your order. </p>
                        </div> <!-- End -->
                        <!-- bank transfer info -->
                        <div id="net-banking" class="tab-pane fade pt-3">
                            <div class="form-group "> <label for="Select Your Bank">
                                <h6>Select your Bank</h6>
                            </label> <select class="form-control" id="ccmonth">
                                <option value="" selected disabled>--Please select your Bank--</option>
                                <option>Bank Islam</option>
                                <option>CIMB</option>
                                <option>Maybank</option>
                            </select> </div>
                            <div class="form-group">
                                <p> <button type="button" class="btn btn-primary " onclick="redirectToReceipt()"><i class="fas fa-mobile-alt mr-2"></i> Proceed Payment</button> </p>
                            </div>
                            <p class="text-muted">Note: After clicking on the button, you will be directed to a secure gateway for payment. After completing the payment process, you will be redirected back to the website to view details of your order. </p>
                        </div> <!-- End -->
                        <!-- End -->
                    </div>
                </div>
            </div>
        </div>
</section>
<!-- End Payment Method -->
<!-- End Display Payment Method -->

<!-- ======= Footer ======= -->
<footer id="footer" class="footer">

    <div class="container">
        <div class="row gy-3">
            <div class="col-lg-3 col-md-6 d-flex">
                <i class="bi bi-geo-alt icon"></i>
                <div>
                    <h4>Address</h4>
                    <p>
                        A108 Adam Street <br>
                        New York, NY 535022 - US<br>
                    </p>
                </div>

            </div>

            <div class="col-lg-3 col-md-6 footer-links d-flex">
                <i class="bi bi-telephone icon"></i>
                <div>
                    <h4>Reservations</h4>
                    <p>
                        <strong>Phone:</strong> +1 5589 55488 55<br>
                        <strong>Email:</strong> info@example.com<br>
                    </p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 footer-links d-flex">
                <i class="bi bi-clock icon"></i>
                <div>
                    <h4>Opening Hours</h4>
                    <p>
                        <strong>Mon-Sat: 11AM</strong> - 23PM<br>
                        Sunday: Closed
                    </p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 footer-links">
                <h4>Follow Us</h4>
                <div class="social-links d-flex">
                    <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
                    <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
                    <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
                    <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
                </div>
            </div>

        </div>
    </div>

    <div class="container">
        <div class="copyright">
            &copy; Copyright <strong><span>Yummy</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
            <!-- All the links in the footer should remain intact. -->
            <!-- You can delete the links only if you purchased the pro version. -->
            <!-- Licensing information: https://bootstrapmade.com/license/ -->
            <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/yummy-bootstrap-restaurant-website-template/ -->
            Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
    </div>

</footer><!-- End Footer -->
<!-- End Footer -->

<a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<div id="preloader"></div>

<!-- Vendor JS Files -->
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>

<!-- Payment method JS File -->
<script type='text/javascript' src='https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js'></script>
<script type='text/javascript' src='#'></script>
<script type='text/javascript' src='#'></script>
<script type='text/javascript' src='#'></script>
<script type='text/javascript'>$(function() {
    $('[data-toggle="tooltip"]').tooltip()
  })</script>
<script type='text/javascript'>var myLink = document.querySelector('a[href="#"]');
  myLink.addEventListener('click', function(e) {
    e.preventDefault();
  });</script>

<script>
    function redirectToReceipt() {
        window.location.href = '/receipt';
    }
</script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Function to calculate total
        function calculateTotal() {
            var total = 0;
            // Select all product price elements
            var productPrices = document.querySelectorAll('.table tbody tr td:last-child');
            // Loop through each product price and add it to total
            productPrices.forEach(function(priceElement) {
                var price = parseFloat(priceElement.textContent);
                console.log("Price:", price);
                if (!isNaN(price)) {
                    total += price;
                }
            });
            // Update the total in the table footer
            document.getElementById('total').textContent = total.toFixed(2);
        }

        // Call the calculateTotal function when the DOM content is loaded
        calculateTotal();
    });
</script>

<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>

</body>

</html>